import"../chunks/DsnmJJEf.js";import"../chunks/Cxx8ul12.js";import{f as c,e as t,a as o,c as p,g as y,m as f,r as s,i as w,s as _}from"../chunks/DAUzGMuf.js";import{e as l}from"../chunks/yxq_GR_A.js";import{i as k}from"../chunks/BO8m66Ra.js";var P=c('<img src="https://img.youtube.com/vi/gOUjepSG88A/hqdefault.jpg" loading="lazy" alt="YouTube thumbnail" class="svelte-j5g8rn"/>'),M=c('<iframe src="https://www.youtube.com/embed/gOUjepSG88A?autoplay=1&amp;rel=0" title="YouTube video" allow="autoplay; encrypted-media" allowfullscreen="" class="svelte-j5g8rn"></iframe>'),j=c('<article class="wrap guide-prose prose prose-invert"><h1>micro:bitエッジ推論デモ（🧪実験的）</h1> <p>PC上で学習したモデルと推論コードをmicro:bitに書き込むことで、PCを使わずにmicro:bit単体でリザバーコンピューティングによるリアルタイム推論を実行します。実験的としているのは、micro:bitはFlash書き込み領域やRAM容量が限られており、リザバーのノード数やパラメータ構成に制約があるためです。</p> <div class="yt svelte-j5g8rn"><!></div> <p>上の画像をクリックすると動画が再生されます。時計回りのときは「歓喜の歌（喜びの歌）」、反時計回りのときは「ハッピーバースデートゥーユー」のメロディーがmicro:bitから流れます。静止状態になると音が止まります。</p> <p><strong>🔉小さいですが動画は音声付きです。</strong></p> <h2>目次</h2> <ul><li><a href="#programming-software">書き込みソフトウエア</a></li> <li><a href="#demo-using-a-pre-trained-model">学習済みモデルで体験するデモ</a></li> <li><a href="#demo-building-your-own-model">自分で学習モデルから作るデモ</a></li></ul> <a id="programming-software" aria-label="link"></a> <h2>書き込みソフトウエア</h2> <p>micro:bit上にMicroPythonのプログラムを作成・転送するために、Mu というソフトウェアを使用します。同様の作業はThonnyというソフトウエアでも可能ですが、ここでは操作が簡単な Mu を使用します。</p> <a href="https://codewith.mu/en/download" target="_blank" rel="noopener noreferrer">こちらのリンク</a> からダウンロードしてインストールしてください。インストール完了までに時間がかかる場合があります。 <img src="/assets/mu.jpg" width="640" height="360" alt=""/> <p>PCにmicro:bitをUSB接続すると、自動的にモードが<code>BBC micro:bit</code>になります。手動でもモードボタンを選択することで選べます。</p> <a id="demo-using-a-pre-trained-model" aria-label="link"></a> <h2>学習済みモデルで体験するデモ</h2> <button>pretrained_main.py</button> <ul><li>上記のボタンをクリックしてダウンロード</li> <li>Muエディタの<code>開く</code>アイコンをクリックし、ダウンロードしたファイルを選択し開きます</li> <li>micro:bitがPCに繋がっていることを確認して、Muエディタの<code>転送</code>アイコンをクリックします</li> <li>micro:bit側のLEDが激しく点滅し書き込み状態になります。この間はMuはフリーズしたように見えます。</li> <li>micro:bit側のLEDの点滅が終わったら書き込み終了です。</li> <li>micro:bitのリセットボタンを押すとリアルタイム推論が可能となります。</li> <li>学習されている具体的なジェスチャーは以下の通りです。</li></ul> <img src="/assets/microbit_grip.jpg" width="640" height="360" alt=""/> <p>写真のように、micro:bit正面を上側に向け、USBケーブルの根元を人差し指と親指で掴んだ状態で、以下の３パターンのジェスチャーを行うと、ジェスチャーに応じてLEDの数字が変化します。</p> <ol start="0"><li>静止状態</li> <li>時計回り</li> <li>反時計回り</li></ol> <p>具体的な動かし方は冒頭の動画を参照してください。</p> <h3>おまけ：🎶リアルタイム推論に応じてメロディー出力</h3> <p>時計回りのときは「歓喜の歌（喜びの歌）」、反時計回りのときは「ハッピーバースデートゥーユー」のメロディーがmicro:bitから流れます。静止状態になると音が止まります。</p> <button>pretrained_melody.py</button> <ul><li>上記のボタンをクリックしてダウンロード</li> <li>以後の流れは、先ほどと同じです</li></ul> <p>※パラメータを改善しているため、動画よりもメロディーがスムーズに流れます。</p> <a id="demo-building-your-own-model" aria-label="link"></a> <h2>自分で学習モデルから作るデモ</h2> <ul><li>Demo 2で学習データを作成し学習・推論を行い、リアルタイム推論でそれなりに正しく判別できることを確認してください</li> <li>ZIPダウンロードをしてください（<code>ZIPダウンロード</code>ボタンは、トグルの<code>Basic</code>を<code>Advanced</code>に変更すると出てきます）</li></ul> <button>Demo3向けのPythonコード</button> <ul><li>上記のボタンをクリックするとColaboratoryが開きますで、すべてのコードを実行してください（最初のコードでZIPファイルを使います）</li> <li><code>main.py</code>と<code>melody.py</code>がダウンロードされます</li> <li>Muエディタの<code>開く</code>アイコンをクリックし、ダウンロードしたファイルを選択し開きます</li> <li>micro:bitがPCに繋がっていることを確認して、Muエディタの<code>転送</code>アイコンをクリックします</li> <li>micro:bit側のLEDが激しく点滅し書き込み状態になります。この間はMuはフリーズしたように見えます</li> <li>micro:bit側のLEDの点滅が終わったら書き込み終了です</li> <li>micro:bitのリセットボタンを押すとリアルタイム推論が可能となります</li></ul> <p><code>melody.py</code>では、ラベル1に「歓喜の歌（喜びの歌）」、ラベル2に「ハッピーバースデートゥーユー」を割り当てています。ラベル0を含むそれ以外のラベルでは、メロディー停止状態になります。追加のメロディーを使いたい場合は、各自でコードを改造してください。</p></article>');function x(u){let m=f(!1);var r=j(),a=o(p(r),4),b=p(a);{var h=i=>{var e=P();l("click",e,()=>_(m,!0)),t(i,e)},g=i=>{var e=M();t(i,e)};k(b,i=>{y(m)?i(g,!1):i(h)})}s(a);var d=o(a,26),n=o(d,16),v=o(n,12);w(4),s(r),l("click",d,()=>{const i=document.createElement("a");i.href="/demo3/pretrained_main.py",i.download="pretrained_main.py",i.click()}),l("click",n,()=>{const i=document.createElement("a");i.href="/demo3/pretrained_melody.py",i.download="pretrained_melody.py",i.click()}),l("click",v,()=>window.open("https://colab.research.google.com/drive/1wRPlp-mu1rCaxJu6qGPz2Zf9b3XXMqeV?usp=drive_link","_blank")),t(u,r)}export{x as component};
