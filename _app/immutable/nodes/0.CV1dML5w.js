import"../chunks/DsnmJJEf.js";import{o as Ee,a as Ae,b as Ne,s as ce}from"../chunks/B_jID4d2.js";import{M as oe,z as Te,F as te,A as R,Y as ke,B as Ie,g as s,a8 as Me,C as De,H as Le,D as de,G as re,O as K,Z as Se,a9 as Ce,aa as He,I as Oe,N as fe,Q as Re,m as Ue,ab as ve,ac as he,ad as $e,ae as Be,J as ge,L as Pe,af as qe,ag as Fe,ah as ne,_ as Ye,ai as ze,aj as Ge,ak as Ve,K as We,al as Ke,am as Je,an as Qe,ao as Xe,p as Ze,l as je,s as A,f as q,h as ea,b as L,a2 as se,a as P,i as aa,ap as J,aq as Q,c as N,r as w,n as ta}from"../chunks/Nxf_S6m2.js";import{i as ie}from"../chunks/CAU12eoF.js";import{h as ra}from"../chunks/BKk_KKHJ.js";import{s as X,c as na}from"../chunks/CNyKPw1f.js";import{d as sa,e as ia}from"../chunks/Dp6jyyXo.js";import{s as la,a as oa}from"../chunks/Xn0ZDG0Z.js";import{s as fa,b as ua,a as ca,c as pe,g as da}from"../chunks/BeA_6LoS.js";function va(e,a){return a}function pa(e,a,t){for(var m=[],c=a.length,f=0;f<c;f++)ze(a[f].e,m,!0);Ge(m,()=>{var n=m.length===0&&t!==null;if(n){var r=t,d=r.parentNode;Ve(d),d.append(r),e.items.clear(),I(e,a[0].prev,a[c-1].next)}for(var u=0;u<c;u++){var i=a[u];n||(e.items.delete(i.k),I(e,i.prev,i.next)),We(i.e,!n)}e.first===a[0]&&(e.first=a[0].prev)})}function ma(e,a,t,m,c,f=null){var n=e,r=new Map,d=null;{var u=e;n=R?te(ke(u)):u.appendChild(oe())}R&&Ie();var i=null,v=Me(()=>{var h=t();return $e(h)?h:h==null?[]:he(h)}),b,_=!0;function l(){_a(U,b,n,a,m),i!==null&&(b.length===0?(i.fragment?(n.before(i.fragment),i.fragment=null):ge(i.effect),E.first=i.effect):Pe(i.effect,()=>{i=null}))}var E=Te(()=>{b=s(v);var h=b.length;let x=!1;if(R){var H=De(n)===Le;H!==(h===0)&&(n=de(),te(n),re(!1),x=!0)}for(var S=new Set,T=Oe,M=null,D=Re(),k=0;k<h;k+=1){R&&K.nodeType===Se&&K.data===Ce&&(n=K,x=!0,re(!1));var O=b[k],$=m(O,k),y=_?null:r.get($);y?(He(y.v,O),y.i=k,D&&T.skipped_effects.delete(y.e)):(y=ha(_?n:null,M,O,$,k,c,a,t),_&&(y.o=!0,M===null?d=y:M.next=y,M=y),r.set($,y)),S.add($)}if(h===0&&f&&!i)if(_)i={fragment:null,effect:fe(()=>f(n))};else{var B=document.createDocumentFragment(),F=oe();B.append(F),i={fragment:B,effect:fe(()=>f(F))}}if(R&&h>0&&te(de()),!_)if(D){for(const[Y,z]of r)S.has(Y)||T.skipped_effects.add(z.e);T.oncommit(l),T.ondiscard(()=>{})}else l();x&&re(!0),s(v)}),U={effect:E,items:r,first:d};_=!1,R&&(n=K)}function _a(e,a,t,m,c){var f=a.length,n=e.items,r=e.first,d,u=null,i=[],v=[],b,_,l,E;for(E=0;E<f;E+=1){if(b=a[E],_=c(b,E),l=n.get(_),e.first??=l,!l.o){l.o=!0;var U=u?u.next:r;I(e,u,l),I(e,l,U),le(l,U,t),u=l,i=[],v=[],r=u.next;continue}if((l.e.f&ne)!==0&&ge(l.e),l!==r){if(d!==void 0&&d.has(l)){if(i.length<v.length){var h=v[0],x;u=h.prev;var H=i[0],S=i[i.length-1];for(x=0;x<i.length;x+=1)le(i[x],h,t);for(x=0;x<v.length;x+=1)d.delete(v[x]);I(e,H.prev,S.next),I(e,u,H),I(e,S,h),r=h,u=S,E-=1,i=[],v=[]}else d.delete(l),le(l,r,t),I(e,l.prev,l.next),I(e,l,u===null?e.first:u.next),I(e,u,l),u=l;continue}for(i=[],v=[];r!==null&&r.k!==_;)(r.e.f&ne)===0&&(d??=new Set).add(r),v.push(r),r=r.next;if(r===null)continue;l=r}i.push(l),u=l,r=l.next}if(r!==null||d!==void 0){for(var T=d===void 0?[]:he(d);r!==null;)(r.e.f&ne)===0&&T.push(r),r=r.next;var M=T.length;if(M>0){var D=f===0?t:null;pa(e,T,D)}}}function ha(e,a,t,m,c,f,n,r){var d=(n&qe)!==0,u=(n&Fe)===0,i=d?u?Ue(t,!1,!1):ve(t):t,v=(n&Be)===0?c:ve(c),b={i:v,v:i,k:m,a:null,e:null,o:!1,prev:a,next:null};try{if(e===null){var _=document.createDocumentFragment();_.append(e=oe())}return b.e=fe(()=>f(e,i,v,r)),a!==null&&(a.next=b),b}finally{}}function le(e,a,t){for(var m=e.next?e.next.e.nodes_start:t,c=a?a.e.nodes_start:t,f=e.e.nodes_start;f!==null&&f!==m;){var n=Ye(f);c.before(f),f=n}}function I(e,a,t){a===null?(e.first=t,e.effect.first=t&&t.e):(a.e.next&&(a.e.next.prev=null),a.next=t,a.e.next=t&&t.e),t===null?e.effect.last=a&&a.e:(t.e.prev&&(t.e.prev.next=null),t.prev=a,t.e.prev=a&&a.e)}const ga=Symbol("is custom element"),ba=Symbol("is html");function me(e,a,t,m){var c=xa(e);R&&(c[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||c[a]!==(c[a]=t)&&(a==="loading"&&(e[Ke]=t),t==null?e.removeAttribute(a):typeof t!="string"&&ya(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function xa(e){return e.__attributes??={[ga]:e.nodeName.includes("-"),[ba]:e.namespaceURI===Je}}var _e=new Map;function ya(e){var a=e.getAttribute("is")||e.nodeName,t=_e.get(a);if(t)return t;_e.set(a,t=[]);for(var m,c=e,f=Element.prototype;f!==c;){m=Xe(c);for(var n in m)m[n].set&&t.push(n);c=Qe(c)}return t}const wa=()=>{const e=fa;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},Ea={subscribe(e){return wa().page.subscribe(e)}};var Aa=q('<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"/>'),Na=q('<span class="dirty-badge">未保存の変更があります</span>'),Ta=q("<li><a> </a></li>"),ka=q('<p class="mt-3 text-xs text-slate-400">移動先: <code class="text-cyan-300"> </code></p>'),Ia=q('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4"><div class="w-full max-w-md rounded-2xl border border-slate-800 bg-slate-900 p-6 shadow-2xl"><h2 class="text-lg font-semibold">未保存の変更があります</h2> <p class="mt-2 text-sm text-slate-300">このページから移動すると、保存されていない変更が失われます。本当に遷移してもよろしいですか？</p> <!> <div class="mt-6 flex justify-end gap-3"><button type="button" class="rounded-full border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-slate-800">キャンセル</button> <button type="button" class="rounded-full bg-cyan-500 px-4 py-2 text-sm font-semibold text-slate-950 transition hover:bg-cyan-400">移動する</button></div></div></div>'),Ma=q('<div class="min-h-screen bg-slate-950 text-slate-100" role="application"><header class="site-header" data-ignore-dirty=""><div class="logo-group"><a href="/" class="logo">Reservoir Play</a> <!></div> <button type="button" aria-label="Toggle menu"><span></span> <span></span> <span></span></button> <ul></ul></header> <main><!></main></div> <!>',1);function Ba(e,a){Ze(a,!0);const t=()=>oa(Ea,"$page",m),[m,c]=la();let f=J(!1),n=J(null),r=J(!1),d=J(!1);const u=[{href:"/",label:"Home"},{href:"/guide",label:"Guide"},{href:"/tutorial",label:"Tutorial"},{href:"/demo1",label:"Demo 1"},{href:"/demo2",label:"Demo 2"},{href:"/demo3",label:"Demo 3"},{href:"/about",label:"About"}],i=Q(()=>t().url.pathname),v=Q(()=>s(i).replace(/\/index\.html$/,"/")),b=Q(()=>s(v)==="/"||s(v)===pe||s(v)===`${pe}/`),_=Q(()=>s(v).startsWith("/demo1")||s(v).startsWith("/demo2"));ua(o=>{s(_)&&s(r)&&!o.willUnload&&(o.cancel(),A(f,!0),A(n,o.to?.url.pathname,!0))});function l(o){s(_)&&s(r)&&(o.preventDefault(),o.returnValue="")}Ee(()=>{if(typeof window<"u"&&window.addEventListener("beforeunload",l),typeof document<"u"){const o=()=>{window.AOS?.init({duration:2e3,once:!0})},p=()=>{document.readyState==="complete"?o():window.addEventListener("load",o,{once:!0})};if(document.getElementById("aos-script"))p();else{const g=document.createElement("script");g.id="aos-script",g.src="https://unpkg.com/aos@next/dist/aos.js",g.defer=!0,g.addEventListener("load",()=>{p()}),document.head.appendChild(g)}}}),ca(()=>{requestAnimationFrame(()=>{window.AOS?.refreshHard?.()})}),Ae(()=>{typeof window<"u"&&window.removeEventListener("beforeunload",l)});function E(){A(f,!1),A(n,null)}function U(){s(n)&&(A(f,!1),A(r,!1),typeof window<"u"&&window.removeEventListener("beforeunload",l),da(s(n)),A(n,null))}function h(){s(r)||(A(r,!0),console.log("未保存の変更あり: edited = true"))}function x(o){if(!s(_))return;const p=o?.target;!p||typeof p.closest!="function"||p.closest("[data-ignore-dirty]")||!p.closest('button, [role="button"], input[type="button"], input[type="submit"], input[type="reset"], [data-dirty-trigger]')||h()}function H(o){return o==="/"?s(v)==="/":s(v).startsWith(o)}je(()=>{!s(_)&&s(r)&&A(r,!1)});function S(){A(d,!s(d))}function T(){A(d,!1)}var M=Ma();ra("12qhfyh",o=>{var p=Aa();P(o,p)});var D=ea(M),k=N(D),O=N(k),$=L(N(O),2);{var y=o=>{var p=Na();P(o,p)};ie($,o=>{s(r)&&s(_)&&o(y)})}w(O);var B=L(O,2);let F;B.__click=S;var Y=L(B,2);let z;ma(Y,21,()=>u,va,(o,p)=>{var C=Ta(),g=N(C);g.__click=T;let G;var V=N(g,!0);w(g),w(C),se((W,j)=>{me(g,"href",s(p).href),me(g,"aria-current",W),G=X(g,1,"",null,G,j),ce(V,s(p).label)},[()=>H(s(p).href)?"page":void 0,()=>({active:H(s(p).href)})]),P(o,C)}),w(Y),w(k);var Z=L(k,2),be=N(Z);Ne(be,()=>a.children??ta),w(Z),w(D);var xe=L(D,2);{var ye=o=>{var p=Ia(),C=N(p),g=L(N(C),4);{var G=ee=>{var ae=ka(),ue=L(N(ae)),we=N(ue,!0);w(ue),w(ae),se(()=>ce(we,s(n))),P(ee,ae)};ie(g,ee=>{s(n)&&ee(G)})}var V=L(g,2),W=N(V);W.__click=E;var j=L(W,2);j.__click=U,w(V),w(C),w(p),P(o,p)};ie(xe,o=>{s(f)&&o(ye)})}se(()=>{F=X(B,1,"hamburger",null,F,{active:s(d)}),z=X(Y,1,"nav-links",null,z,{active:s(d)}),X(Z,1,na(s(b)?"landing-main":"mx-auto flex w-full max-w-[1100px] flex-col gap-6 px-6 py-8 page-main"))}),ia("click",D,x,!0),P(e,M),aa(),c()}sa(["click"]);export{Ba as component};
